-- Tạo cơ sở dữ liệu QUANLYTHUVIEN
CREATE DATABASE QUANLYTHUVIEN
GO
-- DROP DATABASE QUANLYTHUVIEN

USE QUANLYTHUVIEN
GO

-- Tạo bảng THELOAI
CREATE TABLE THELOAI (
    MaTheLoai varchar(10),
    TenTheLoai nvarchar(30),
	CONSTRAINT PK_TL PRIMARY KEY(MaTheLoai)
)
-- DROP TABLE THELOAI

-- Tạo bảng NHAXUATBAN
CREATE TABLE NHAXUATBAN (
    MaNXB varchar(10),
    TenNXB nvarchar(50),
    DiaChi nvarchar(50),
    Email varchar(40),
    NguoiDaiDien nvarchar(40)
	CONSTRAINT PK_NXB PRIMARY KEY(MaNXB)
)
-- DROP TABLE NHAXUATBAN

-- Tạo bảng TAILIEU
CREATE TABLE TAILIEU (
    MaTaiLieu varchar(13),
    TenTaiLieu nvarchar(100),
    NgayXuatBan smalldatetime,
	MaNXB varchar(10),
	MaTheLoai varchar(10),
	CONSTRAINT PK_TAILIEU PRIMARY KEY(MaTaiLieu), 
    CONSTRAINT FK01_TAILIEU FOREIGN KEY(MaNXB) REFERENCES NHAXUATBAN(MaNXB),
    CONSTRAINT FK02_TAILIEU FOREIGN KEY(MaTheLoai) REFERENCES THELOAI(MaTheLoai),
	HienCo tinyint not null,
	DangMuon tinyint not null
)
-- DROP TABLE TAILIEU

-- Tạo bảng TACGIA
CREATE TABLE TACGIA (
    MaTacGia varchar(10),
    TenTacGia nvarchar(50),
	CONSTRAINT PK_TG PRIMARY KEY(MaTacGia)
)
-- DROP TABLE TACGIA

-- Tạo bảng THETHUVIEN
CREATE TABLE THETHUVIEN (
    SoThe varchar(10),
    NgayBatDau smalldatetime,
    NgayHetHan smalldatetime,
    CONSTRAINT PK_TTV PRIMARY KEY (SoThe)
)
-- DROP TABLE THETHUVIEN

-- Tạo bảng DOCGIA
CREATE TABLE DOCGIA (
    MaDocGia varchar(10),
    HoTen nvarchar(50),
	GioiTinh nvarchar(3),
	NgaySinh smalldatetime,
    DiaChi nvarchar(60),
    SoThe varchar(10),
	CONSTRAINT PK_DG PRIMARY KEY(MaDocGia),
	CONSTRAINT FK_DG FOREIGN KEY(SoThe) REFERENCES THETHUVIEN(SoThe)
)
-- DROP TABLE DOCGIA

-- Tạo bảng NHANVIEN
CREATE TABLE NHANVIEN (
    MaNV varchar(10),
    HoTen nvarchar(50),
	GioiTinh nvarchar(3),
    NgaySinh smalldatetime,
    SDT char(10),
	CONSTRAINT PK_NV PRIMARY KEY (MaNV)
)
-- DROP TABLE NHANVIEN 

-- Tạo bảng TAILIEU_TACGIA
CREATE TABLE TAILIEU_TACGIA (
    MaTaiLieu varchar(13),
    MaTacGia varchar(10),
    CONSTRAINT PK_TAILIEU_TG PRIMARY KEY (MaTaiLieu, MaTacGia),
    CONSTRAINT FK01_TAILIEU_TG FOREIGN KEY (MaTaiLieu) REFERENCES TAILIEU(MaTaiLieu),
    CONSTRAINT FK02_TAILIEU_TG FOREIGN KEY (MaTacGia) REFERENCES TACGIA(MaTacGia)
)
-- DROP TABLE TAILIEU_TACGIA

-- Tạo bảng CTMUONTRA
CREATE TABLE CTMUONTRA ( 
    MaMuonTra char(11),
    NgayMuon smalldatetime,
    DaTra bit,
	GiaHan bit not null,
    NgayTra smalldatetime,
    GhiChu nvarchar(50),
	SoThe varchar(10),
	MaTaiLieu varchar(13),
	MaNV varchar(10),
	CONSTRAINT PK_CTMT PRIMARY KEY (MaMuonTra),
    CONSTRAINT FK01_CTMT FOREIGN KEY (SoThe) REFERENCES THETHUVIEN(SoThe),
    CONSTRAINT FK02_CTMT FOREIGN KEY (MaTaiLieu) REFERENCES TAILIEU(MaTaiLieu),
    CONSTRAINT FK03_CTMT FOREIGN KEY (MaNV) REFERENCES NHANVIEN(MaNV)
)
-- DROP TABLE CTMUONTRA

SET DATEFORMAT DMY





-- Nhập dữ liệu cho bảng NHAXUATBAN
INSERT INTO NHAXUATBAN VALUES ('KTQD2495', N'Nhà xuất bản Đại Học Kinh Tế Quốc Dân', N'207 đường Giải Phóng, quận Hai Bà Trưng, Hà Nội', 'nxb@neu.edu.vn', N'Nguyễn Thành Độ')
INSERT INTO NHAXUATBAN VALUES ('XBTK4257', N'NXB Thống Kê', N'98 đường Thụy Khuê, quận Tây Hồ, Hà Nội', 'xuatbanthongke.kd@gmail.com', N'Nguyễn Thị Thúy Hằng')
INSERT INTO NHAXUATBAN VALUES ('LDXH8394', N'NXB Lao động - Xã hội', N'36, đường Minh Khai, quận Hai Bà Trưng, Hà Nội', 'nxblaodongxahoi@gmail.com', N'Lê Hải Nam')
INSERT INTO NHAXUATBAN VALUES ('XBTC3549', N'NXB Tài chính', N'7 đường Phan Huy Chú, quận Hoàn Kiếm, Hà Nội', 'info@fph.gov.vn', N'Phan Ngọc Chính')
INSERT INTO NHAXUATBAN VALUES ('HVTC8406', N'Học viện Tài chính', N'58, đường Lê Văn Hiến, quận Bắc Từ Liêm, Hà Nội', 'hocvientaichinh@hvtc.edu.vn', N'Trần Văn Minh')
INSERT INTO NHAXUATBAN VALUES ('XBCT7351', N'NXB Công thương', N'655, đường Phạm Văn Đồng, quận Bắc Từ Liêm, Hà Nội', 'nxbct@moit.gov.vn', N'Nguyễn Thanh Tùng')



-- Nhập dữ liệu cho bảng THELOAI
INSERT INTO THELOAI VALUES ('SI7683', N'Sách in')
INSERT INTO THELOAI VALUES ('GT8334', N'Giáo trình')
INSERT INTO THELOAI VALUES ('LV0956', N'Luận văn Thạc Sĩ')
INSERT INTO THELOAI VALUES ('LA5794', N'Luận án Tiến Sĩ')
INSERT INTO THELOAI VALUES ('CD3416', N'Chuyên đề tốt nghiệp')
INSERT INTO THELOAI VALUES ('TC2785', N'Tạp chí Kinh Tế & Phát Triển')



SET DATEFORMAT DMY

-- Nhập dữ liệu cho bảng TAILIEU
--- 1
INSERT INTO TAILIEU VALUES ('QHVMTTM375372', N'20 năm quan hệ Việt - Mỹ: Đánh giá qua các chỉ số thương mại', '05/07/2016', 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('CSGSOVN059735', N'50 năm chính sách giảm sinh ở Việt Nam (1961-2011): Thành tựu, tác động và bài học kinh nghiệm', '12/09/2011', 'KTQD2495', 'SI7683', 3, 2)
INSERT INTO TAILIEU VALUES ('BTQCBTC059863', N'7 Thói quen cản bước thành công', '10/09/2018', 'KTQD2495', 'SI7683', 2, 3)
INSERT INTO TAILIEU VALUES ('AOFELII001407', N'Analysis of factors effecting labor incomes in Hanoi', '01/01/2004', 'KTQD2495', 'LV0956', 5, 0)
INSERT INTO TAILIEU VALUES ('ARDCARN059745', N'Ardrew Carnegie', '20/05/2018', 'KTQD2495', 'SI7683', 0, 5)
INSERT INTO TAILIEU VALUES ('ANTPHGD061266', N'Ăn nói thuyết phục hạ gục đối phương', '12/12/2020', 'KTQD2495', 'SI7683', 3, 2)
INSERT INTO TAILIEU VALUES ('BANKBCK017207', N'Bank 3.0', '27/05/2014', 'KTQD2495', 'SI7683', 2, 3)
INSERT INTO TAILIEU VALUES ('BGNLKTV012810', N'Bài giảng Nguyên lý Kinh tế vĩ mô', '01/05/2010', 'KTQD2495', 'GT8334', 13, 7)
INSERT INTO TAILIEU VALUES ('BGTVTKT021376', N'Bài giảng Tiếng Việt trong kinh tế và kinh doanh', 22/08/2020, 'KTQD2495', 'GT8334', 4, 16)
INSERT INTO TAILIEU VALUES ('BHTMPCQ372851', N'Bài học từ một phong cách quản lý Nhật Bản', 08/08/2013, 'KTQD2495', 'TC2785', 5, 0)

--- 2
INSERT INTO TAILIEU VALUES ('BTVKTDN014838', N'Bài tập kế toán doanh nghiệp', 30/05/2012, 'KTQD2495', 'GT8334', 6, 14)
INSERT INTO TAILIEU VALUES ('BTKTVTC051831', N'Bài tập Kinh tế và tổ chức sản xuất trong doanh nghiệp', 01/06/2009, 'KTQD2495', 'GT8334', 17, 3)
INSERT INTO TAILIEU VALUES ('BTMHTKT020237', N'Bài tập mô hình Toán Kinh tế', 17/07/1998, 'KTQD2495', 'GT8334', 16, 4)
INSERT INTO TAILIEU VALUES ('BTQTSXV051611', N'Bài tập quản trị sản xuất và tác nghiệp', 19/09/2009, 'KTQD2495', 'GT8334', 18, 2)
INSERT INTO TAILIEU VALUES ('VLVGNTT021882', N'Việc làm và gia nhập thị trường lao động của giới trẻ, Lý thuyết và thực tiễn ở Việt Nam', 02/03/2020, 'KTQD2495', 'GT8334', 0, 5)
INSERT INTO TAILIEU VALUES ('BTTHQTD013957', N'Bài tập thực hành quản trị kinh doanh', 26/09/2011, 'KTQD2495', 'GT8334', 14, 6)
INSERT INTO TAILIEU VALUES ('BTXSVTK046076', N'Bài tập xác suất và thống kê toán', 22/03/2006, 'KTQD2495', 'GT8334', 8, 12)
INSERT INTO TAILIEU VALUES ('BHDCCCD006015', N'Bán hàng đa cấp của các doanh nghiệp nước ngoài tại Việt Nam', 29/04/2011, 'KTQD2495', 'LV0956', 5, 0)
INSERT INTO TAILIEU VALUES ('BANLINH054053', N'Bản lĩnh doanh nhân', 14/12/2011, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('BBDGTCT101912', N'Bất bình đẳng giới trong chi tiêu cho giáo dục của các hộ gia đình tại Việt Nam', 09/08/2019, 'KTQD2495', 'CD3416', 5, 0)

--- 3
INSERT INTO TAILIEU VALUES ('CTTHTVN374050', N'Can thiệp trung hòa tại Việt Nam: Góc nhìn chi phí tài chính', 21/01/2015, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('CGPNHTH061302', N'Các giải pháp nhằm hoàn thiện hoạt động Marketing tại công ty cổ phần du lịch Kim Liên', 15/03/2013, 'KTQD2495', 'CD3416', 5, 0)
INSERT INTO TAILIEU VALUES ('CGPTCCH017043', N'Các giải pháp tái cơ cấu hoạt động tài chính của tập đoàn công nghiệp than - khoáng sản Việt Nam', 16/07/2015, 'HVTC8406', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('CGPTCQL008921', N'Các giải pháp tăng cường quản lý vay và trả nợ của chính phủ VN trong điều kiện hiện nay', 21/04/2007, 'HVTC8406', 'LA5794', 5, 0)
INSERT INTO TAILIEU VALUES ('DSVNDSH372933', N'Dân số và nhóm dân số hoạt động kinh tế: Những tác động tới tăng trưởng kinh tế Việt Nam', 20/09/2013, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('DANSOVA048514', N'Dân số và phát triển', 10/01/2007, 'KTQD2495', 'GT8334', 11, 9)
INSERT INTO TAILIEU VALUES ('DTTTCNN001608', N'Dân trí tài trí của người nghèo tại khu vực nông thôn Việt Nam', 01/07/2020, 'KTQD2495', 'LA5794', 5, 0)
INSERT INTO TAILIEU VALUES ('DHNBCGT373120', N'Dấu hiệu nhận biết chuyển giá trong các doanh nghiệp tại Việt Nam', 11/01/2013, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('DGRNLMD019402', N'Digital gold: Rủ nhau lên mạng đào vàng', 30/08/2018, 'KTQD2495', 'SI7683', 1, 4)
INSERT INTO TAILIEU VALUES ('DUHOCMY059573', N'Du học Mỹ', 30/07/2018, 'KTQD2495', 'SI7683', 3, 2)

--- 4
INSERT INTO TAILIEU VALUES ('EBUSINE014378', N'eBusiness & eCommerce', 21/09/2011, 'KTQD2495', 'GT8334', 4, 16)
INSERT INTO TAILIEU VALUES ('QATTMXC059874', N'EQ Trí thông minh xúc cảm trong công việc', 30/09/2019, 'KTQD2495', 'SI7683', 2, 3)
INSERT INTO TAILIEU VALUES ('ERFVCYT373652', N'ERP và các yếu tố quyết định triển khai ERP thành công tại Việt Nam', 27/01/2014, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('ERFLIOV009376', N'Evaluation criteria for labour inspectors of Vietnam', 02/08/2013, 'KTQD2495', 'LV0956', 5, 0)
INSERT INTO TAILIEU VALUES ('FBCKNDH019982', N'Fintech 4.0 Những điển hình thành công trong cuộc cách mạng công nghệ tài chính', 16/07/2018, 'XBCT7351', 'SI7683', 4, 1)
INSERT INTO TAILIEU VALUES ('FDIITTS001215', N'Foreign direct investment in the telecommunications sector in Lao PDR', 30/07/2015, 'HVTC8406', 'LA5794', 5, 0)
INSERT INTO TAILIEU VALUES ('GTTTDBP400267', N'Giao thông tĩnh trên địa bàn phường Hải Tân, thành phố Hải Dương', 26/09/2014, 'KTQD2495', 'CD3416', 5, 0)
INSERT INTO TAILIEU VALUES ('CTKCBNT060019', N'Giao tiếp không chỉ bằng ngôn từ', 16/07/2019, 'KTQD2495', 'SI7683', 3, 2)
INSERT INTO TAILIEU VALUES ('GIAUTUD052452', N'Giàu từ đổi mới', 05/07/2010, 'KTQD2495', 'SI7683', 1, 4)
INSERT INTO TAILIEU VALUES ('GTDLCVH700404', N'Giá trị du lịch của Vịnh Hạ Long', 10/09/2016, 'KTQD2495', 'CD3416', 5, 0)

--- 5
INSERT INTO TAILIEU VALUES ('GTGTHN0S46246', N'Giá trị gia tăng hàng nông sản xuất khẩu của Việt Nam (Thực trạng và giải pháp nâng cao)', 01/01/2006, 'KTQD2495', 'GT8334', 18, 2)
INSERT INTO TAILIEU VALUES ('GTKTCDN005867', N'Giáo trình Kế toán doanh nghiệp', 30/07/2005, 'XBTK4257', 'GT8334', 10, 0)
INSERT INTO TAILIEU VALUES ('GTVKTQT035357', N'Giáo trình Kế toán quốc tế', 05/07/2002, 'XBTK4257', 'GT8334', 9, 11)
INSERT INTO TAILIEU VALUES ('GTKTTCT929051', N'Giáo trình kế toán tài chính trong doanh nghiệp', 10/09/2006, 'KTQD2495', 'GT8334', 3, 12)
INSERT INTO TAILIEU VALUES ('GTKTDVH004523', N'Giáo trình Kế toán Đơn vị hành chính sự nghiệp', 01/01/2004, 'XBTK4257', 'GT8334', 13, 2)
INSERT INTO TAILIEU VALUES ('GTKDVMT929191', N'Giáo trình kinh doanh và môi trường', 12/12/2006, 'KTQD2495', 'GT8334', 15, 5)
INSERT INTO TAILIEU VALUES ('GTKTTDN004651', N'Giáo trình Kinh tế doanh nghiệp', 01/05/2000, 'XBTK4257', 'GT8334', 6, 14)
INSERT INTO TAILIEU VALUES ('GTKTVLN035630', N'Giáo trình Kinh tế Lâm nghiệp', 26/09/2001, 'XBTK4257', 'GT8334', 20, 0)
INSERT INTO TAILIEU VALUES ('HVCKHGT373241', N'Hành vi của khách hàng gửi tiền tiết kiệm tại các ngân hàng thương mại của Việt Nam', 02/03/2014, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('HVCNDTT001062', N'Hành vi của nhà đầu tư trên thị trường chứng khoán Việt Nam', 17/07/2012, 'KTQD2495', 'LA5794', 5, 0)

--- 6
INSERT INTO TAILIEU VALUES ('HTKTTDN008156', N'Hạch toán kế toán trong doanh nghiệp', 11/04/2005, 'KTQD2495', 'GT8334', 13, 2)
INSERT INTO TAILIEU VALUES ('HKTVXLT028095', N'Hạch toán kế toán và xử lý thông tin trong các Ngân hàng thương mại', 12/12/1996, 'HVTC8406', 'GT8334', 3, 12)
INSERT INTO TAILIEU VALUES ('TCTTTIO019181', N'Internet của tiền tệ - The Internet Of Money', 05/07/2017, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('KTDNGTC374235', N'Kênh tín dụng ngân hàng trong cơ chế truyền dẫn tiền tệ tại Việt Nam', 10/09/2016, 'KTQD2495', 'TC2785', 5, 0)--: Tiếp cận bằng mô hình phân phối độ trễ tự hồi quy
INSERT INTO TAILIEU VALUES ('KTCPSXV039180', N'Kế toán chi phí sản xuất và giá thành sản phẩm tại Công ty cổ phần Sông Đà 4', 01/05/2020, 'XBTC3549', 'LV0956', 5, 0)
INSERT INTO TAILIEU VALUES ('KTCTDVH040139', N'Kế toán công trong đơn vị Hành chính sự nghiệp', 01/01/2003, 'XBTC3549', 'GT8334', 11, 9)
INSERT INTO TAILIEU VALUES ('KTDNLTB044762', N'Kế toán doanh nghiệp: Lý thuyết - Bài tập mẫu và bài giải', 05/07/2006, 'KTQD2495', 'GT8334', 12, 8)
INSERT INTO TAILIEU VALUES ('KTTCVNH004604', N'Kế toán ngân hàng', 17/07/2007, 'KTQD2495', 'GT8334', 4, 16)
INSERT INTO TAILIEU VALUES ('KTTQTDN016917', N'Kế toán quản trị doanh nghiệp', 11/04/2014, 'KTQD2495', 'GT8334', 16, 4)
INSERT INTO TAILIEU VALUES ('VPTBVCN373260', N'Về phát triển bền vững chăn nuôi gia súc ở các tỉnh miền núi phía Bắc', 05/07/2014, 'KTQD2495','TC2785', 5, 0)

--- 7
INSERT INTO TAILIEU VALUES ('KTTCTCD014579', N'Kế toán tài chính trong các doanh nghiệp', 10/09/2011, 'KTQD2495', 'GT8334', 2, 18)
INSERT INTO TAILIEU VALUES ('LDNTDCR372869', N'Lao động nông thôn di cư ra thành thị- Thực trạng và khuyến nghị', 01/05/2013, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('LCCNLCT059341', N'Làm chủ công nghệ làm chủ tương lai', 17/07/2018, 'KTQD2495', 'SI7683', 5, 0)
INSERT INTO TAILIEU VALUES ('TCTTTCK060637', N'Làm chủ thị trường chứng khoán', 05/07/2019, 'KTQD2495', 'SI7683', 3, 2)
INSERT INTO TAILIEU VALUES ('LDNLTNT019289', N'Lãnh dạo những lý thuyết nền tảng và tình huống lãnh đạo đương đại', 01/01/2017, 'KTQD2495', 'SI7683', 3, 2)
INSERT INTO TAILIEU VALUES ('LKHQLTC061103', N'Lập kế hoạch quản lý tài chính cá nhân', 26/09/2019, 'KTQD2495', 'SI7683', 5, 0)
INSERT INTO TAILIEU VALUES ('LLNTPTN060551', N'LEADERSHIFT: 11 nguyên tắc phát triển năng lục lãnh đạo', 02/03/2019, 'KTQD2495', 'SI7683', 4, 1)
INSERT INTO TAILIEU VALUES ('LKKTGDN372948', N'Liên kết kinh tế giữa doanh nghiệp chế biến nông sản với nông dân- Thực trạng và giải pháp', 11/04/2013, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('LTCTDNT018688', N'Lí thuyết cạnh tranh doanh nghiệp thương mại', 10/09/2016, 'KTQD2495', 'SI7683', 4, 1)
INSERT INTO TAILIEU VALUES ('LHGTDLV151312', N'Lượng hóa giá trị du lịch vườn quốc gia Ba Vì bằng phương pháp chi phí du lịch', 10/09/2013, 'KTQD2495', 'GT8334', 1, 19)

--- 8
INSERT INTO TAILIEU VALUES ('MARKETI060761', N'Marketing cho startup', 01/05/2019, 'KTQD2495', 'SI7683', 3, 2)
INSERT INTO TAILIEU VALUES ('MARKETM048654', N'Marketing thương mại', 02/03/2007, 'KTQD2495', 'SI7683', 2, 3)
INSERT INTO TAILIEU VALUES ('NCCLCVK006879', N'Nâng cao chất lượng cho vay khách hàng cá nhân tại BIDV chi nhánh Hà Nội', 	01/01/2012, 'KTQD2495', 'LV0956', 5, 0)
INSERT INTO TAILIEU VALUES ('NHDTVPT161845', N'Ngân hàng đầu tư và phát triển Việt Nam chi nhánh Ba Đình', 11/04/2018, 'KTQD2495', 'CD3416', 5, 0)
INSERT INTO TAILIEU VALUES ('PVVLQTH373707', N'Phá vỡ “vòng luẩn quẩn” trong hoạt động tín dụng tại Việt Nam', 26/09/2013, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('PHAPLUA014712', N'Pháp luật kinh tế', 12/12/2012, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('PTCKCNT373741', N'Phát triển các khu công nghiệp trên địa bàn tỉnh Hưng Yên', 05/07/2014, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('QHLAODO020055', N'Quan hệ lao động', 05/07/2019, 'KTQD2495', 'GT8334', 15, 5)
INSERT INTO TAILIEU VALUES ('QHTHUMA929531', N'Quan hệ thương mại Việt Nam - Châu Phi Thực trạng và Giải pháp', 01/05/2007, 'KTQD2495', 'GT8334', 17, 3)
INSERT INTO TAILIEU VALUES ('VTCCNDV378957', N'Vai trò của công nghiệp và dịch vụ trong thúc đẩy năng suất lao động nông nghiệp ở Việt Nam', 05/07/2018, 'KTQD2495', 'TC2785', 5, 0)

--- 9
INSERT INTO TAILIEU VALUES ('QDGPPTK372727', N'Quan điểm, giải pháp phát triển kinh tế và bảo đảm an sinh xã hội ở nước ta', 02/03/2012, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('QLNVCCN001590', N'Quản lí nợ và cưỡng chế nợ thuế trên địa bàn thành phố Hà Nội thực trạng và giải pháp', 11/04/2013, 'KTQD2495', 'LV0956', 5, 0)
INSERT INTO TAILIEU VALUES ('QLCTRSH001396', N'Quản lý chất thải rắn sinh hoạt đô thị dựa vào cộng đồng: Nghiên cứu điển hình ở thành phố Hà Nội', 26/09/2018, 'HVTC8406', 'LA5794', 5, 0)
INSERT INTO TAILIEU VALUES ('RRKKNTT373769', N'Rủi ro kê khai nộp thuế tại cục thuế thành phố Hồ Chí Minh', 01/01/2014, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('SBTKTHD053496', N'Sách bài tập Kiểm toán hoạt động', 17/07/2011, 'KTQD2495', 'GT8334', 19, 1)
INSERT INTO TAILIEU VALUES ('SATTHUB057993', N'Sát thủ bán hàng', 02/03/2015, 'KTQD2495', 'SI7683', 5, 0)
INSERT INTO TAILIEU VALUES ('SPDVTCV008821', N'Sản phẩm dịch vụ tài chính vi mô tại Việt Nam thực trạng và giải pháp', 17/07/2014, 'KTQD2495', 'LV0956', 5, 0)
INSERT INTO TAILIEU VALUES ('SMCCGDV059412', N'Sức mạnh cải cách giáo dục và hoạch định doanh nghiệp', 10/09/2018, 'KTQD2495', 'SI7683', 4, 1)
INSERT INTO TAILIEU VALUES ('SMCNCSO058495', N'Sức mạnh của những con số', 05/07/2017, 'KTQD2495', 'SI7683', 2, 3)
INSERT INTO TAILIEU VALUES ('VTCUBND016245', N'Vai trò của Ủy ban nhân dân thị trấn Ít Ong, huyện Mường La, tỉnh Sơn La trong phát triển du lịch', 26/09/2019, 'KTQD2495', 'LV0956', 5, 0)


--- 10
INSERT INTO TAILIEU VALUES ('SDVLDTC181044', N'Sử dụng vốn lưu động tại Công ty TNHH Vạn Lợi', 11/04/2010, 'KTQD2495', 'CD3416', 5, 0)
INSERT INTO TAILIEU VALUES ('STDNLKT373326', N'Sự thay đổi nguồn lực sinh kế của hộ dưới tác động của một số dự án giảm nghèo ở tỉnh Hòa Bình', 26/09/2012, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('TLHTTHD008637', N'Tài liệu học tập tin học đại cương', 01/05/2013, 'LDXH8394', 'GT8334', 18, 2)
INSERT INTO TAILIEU VALUES ('TDCDCND001450', N'Tác động của di cư nội địa tới đời sống của người cao tuổi ở Việt Nam', 12/12/2019, 'KTQD2495', 'LA5794', 5, 0)
INSERT INTO TAILIEU VALUES ('TDCTTKT061187', N'Tác động của tăng trưởng kinh tế đến xoá đói giảm nghèo ở Việt Nam', 05/07/2010, 'KTQD2495', 'SI7683', 0, 5)
INSERT INTO TAILIEU VALUES ('TCTDNNN373389', N'Tái cấu trúc doanh nghiệp nhà nước', 26/09/2012, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('TLVNTGT051765', N'Tâm lý và nghệ thuật giao tiếp, ứng xử trong kinh doanh du lịch', 01/01/2009, 'KTQD2495', 'SI7683', 1, 4)
INSERT INTO TAILIEU VALUES ('ULDCLSC373712', N'Ước lượng đường cong lãi suất cho thị trường tài chính Việt Nam bằng mô hình Vasicek', 01/05/2013, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('UDMHLVX221409', N'Ứng dụng mô hình logistics vào xếp hạng tín dụng khách hàng', 10/09/2014, 'KTQD2495', 'CD3416', 5, 0)-- tại ngân hàng TMCP ACB chi nhánh Văn Lâm, Hưng Yên
INSERT INTO TAILIEU VALUES ('UDMSLTT017940', N'Ứng dụng một số lý thuyết trong nghiên cứu kinh tế', 01/05/2015, 'KTQD2495', 'GT8334', 20, 0)


--- 11
INSERT INTO TAILIEU VALUES ('VTCVHTB373043', N'Vai trò của việc hình thành bộ môn tại Viện Đào tạo quốc tế, trường Đại học Kinh tế quốc dân', 10/09/2013, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('VTCDTTT000155', N'Sự phát triển kinh tế bền vững của các nước Đông Á và bài học đối với Việt Nam', 26/09/2001, 'HVTC8406', 'LA5794', 5, 0)--Vai trò của đầu tư trực tiếp nước ngoài đối với 
INSERT INTO TAILIEU VALUES ('VTCDTHD000362', N'Vai trò của đô thị hóa đối với phát triển kinh tế xã hội huyện Bá Thước, tỉnh Thanh Hóa', 12/12/2016, 'KTQD2495', 'CD3416', 5, 0)
INSERT INTO TAILIEU VALUES ('XDHATHD373744', N'Xây dựng hình ảnh thương hiệu đại học: Gợi ý từ các nghiên cứu quốc tế', 26/09/2014, 'KTQD2495', 'TC2785', 5, 0)
INSERT INTO TAILIEU VALUES ('DTTSVTS373517', N'Đào tạo thạc sĩ và tiến sĩ', 01/01/2012, 'KTQD2495', 'TC2785', 5, 0)--: Mục tiêu đào tạo, yêu cầu về luận văn thạc sĩ và luận án tiến sĩ



-- Nhập dữ liệu cho bảng TACGIA
--- 1
INSERT INTO TACGIA VALUES ('TG00000001', N'Nguyễn Quang Hiệp')
INSERT INTO TACGIA VALUES ('TG00000002', N'David M. R. Covey')
INSERT INTO TACGIA VALUES ('TG00000003', N'Stephan M. Mardyks')
INSERT INTO TACGIA VALUES ('TG00000004', N'Trần Thị Thùy Linh')
INSERT INTO TACGIA VALUES ('TG00000005', N'Phạm Thị Tuyết Hương')
INSERT INTO TACGIA VALUES ('TG00000006', N'Nguyễn Ngọc Huyền')
INSERT INTO TACGIA VALUES ('TG00000007', N'Đỗ Đình Thu')
INSERT INTO TACGIA VALUES ('TG00000008', N'Nguyễn Thị Ngọc Thanh')
INSERT INTO TACGIA VALUES ('TG00000009', N'Nguyễn Thị Thu Hương')
INSERT INTO TACGIA VALUES ('TG00000010', N'Ngô Kim Thanh')

--- 2
INSERT INTO TACGIA VALUES ('TG00000011', N'Bùi Vân Anh')
INSERT INTO TACGIA VALUES ('TG00000012', N'Justin Bariso')
INSERT INTO TACGIA VALUES ('TG00000013', N'Vũ Thị Trà My')
INSERT INTO TACGIA VALUES ('TG00000014', N'Bùi Thị Bích Hà')
INSERT INTO TACGIA VALUES ('TG00000015', N'Nguyễn Thị Chanh')
INSERT INTO TACGIA VALUES ('TG00000016', N'Đặng Viết Tiến')
INSERT INTO TACGIA VALUES ('TG00000017', N'Kashiwagi Yoshiki')
INSERT INTO TACGIA VALUES ('TG00000018', N'Better Negotiating')
INSERT INTO TACGIA VALUES ('TG00000019', N'Nguyễn Đình Cử')
INSERT INTO TACGIA VALUES ('TG00000020', N'Đinh Thúy Quỳnh')

--- 3
INSERT INTO TACGIA VALUES ('TG00000021', N'Samuel Bostaph')
INSERT INTO TACGIA VALUES ('TG00000022', N'Fred Kendall')
INSERT INTO TACGIA VALUES ('TG00000023', N'Anna Kendall')
INSERT INTO TACGIA VALUES ('TG00000024', N'Brett King')
INSERT INTO TACGIA VALUES ('TG00000025', N'Nguyễn Văn Ngọc')
INSERT INTO TACGIA VALUES ('TG00000026', N'Trần Thị Thùy Linh')
INSERT INTO TACGIA VALUES ('TG00000027', N'Nguyễn Vĩnh Giang')
INSERT INTO TACGIA VALUES ('TG00000028', N'Đặng Minh Trang')
INSERT INTO TACGIA VALUES ('TG00000029', N'Bùi Thị Lành')
INSERT INTO TACGIA VALUES ('TG00000030', N'John Forbat')

--- 4
INSERT INTO TACGIA VALUES ('TG00000031', N'Đinh Thị Sáng')
INSERT INTO TACGIA VALUES ('TG00000032', N'Phạm Thị Tuyết Trinh')
INSERT INTO TACGIA VALUES ('TG00000033', N'Ernest Hemingway')
INSERT INTO TACGIA VALUES ('TG00000034', N'Harper Lee')
INSERT INTO TACGIA VALUES ('TG00000035', N'Nguyễn Vĩnh An')
INSERT INTO TACGIA VALUES ('TG00000036', N'Trần Thị Ngọc Linh')
INSERT INTO TACGIA VALUES ('TG00000037', N'Dan Brown')
INSERT INTO TACGIA VALUES ('TG00000038', N'Đinh Vinh Anh')
INSERT INTO TACGIA VALUES ('TG00000039', N'Nguyễn Thị Hồng')
INSERT INTO TACGIA VALUES ('TG00000040', N'Ngô Thị Hồng Thanh')

--- 5
INSERT INTO TACGIA VALUES ('TG00000051', N'Đỗ Văn Chiến')
INSERT INTO TACGIA VALUES ('TG00000052', N'Hồ Thu Hương')
INSERT INTO TACGIA VALUES ('TG00000053', N'Lâm Thị Hoa')
INSERT INTO TACGIA VALUES ('TG00000054', N'Lê Thu Cúc')
INSERT INTO TACGIA VALUES ('TG00000055', N'Trần Gia Hưng')
INSERT INTO TACGIA VALUES ('TG00000056', N'Albert Camus')
INSERT INTO TACGIA VALUES ('TG00000057', N'Phan Thanh Hà')
INSERT INTO TACGIA VALUES ('TG00000058', N'Chu Bích Ly')
INSERT INTO TACGIA VALUES ('TG00000059', N'Hà Trung Dũng')
INSERT INTO TACGIA VALUES ('TG00000060', N'Nguyễn Quang Hùng')

--- 6
INSERT INTO TACGIA VALUES ('TG00000061', N'Hồ Đình Quân')
INSERT INTO TACGIA VALUES ('TG00000062', N'Phan Hà')
INSERT INTO TACGIA VALUES ('TG00000063', N'Trần Thị Nguyệt')
INSERT INTO TACGIA VALUES ('TG00000064', N'Lương Hà Linh')
INSERT INTO TACGIA VALUES ('TG00000065', N'Lưu Trọng Tâm')
INSERT INTO TACGIA VALUES ('TG00000066', N'Isabel Allende')
INSERT INTO TACGIA VALUES ('TG00000067', N'Kha Quang Quân')
INSERT INTO TACGIA VALUES ('TG00000068', N'Trần Thị Tuyết Nhi')
INSERT INTO TACGIA VALUES ('TG00000069', N'Đặng Bích Trâm')
INSERT INTO TACGIA VALUES ('TG00000070', N'Tạ Thanh Tâm')

--- 7
INSERT INTO TACGIA VALUES ('TG00000071', N'Hoàng Thị Nhi')
INSERT INTO TACGIA VALUES ('TG00000072', N'Lý Mỹ Trinh')
INSERT INTO TACGIA VALUES ('TG00000073', N'Đỗ Thanh Phong')
INSERT INTO TACGIA VALUES ('TG00000074', N'Ngô Trọng Hưng')
INSERT INTO TACGIA VALUES ('TG00000075', N'Trương Văn Phi')
INSERT INTO TACGIA VALUES ('TG00000076', N'Vũ Văn Thanh')



-- Nhập dữ liệu cho bảng THETHUVIEN
--- 1
INSERT INTO THETHUVIEN VALUES ('TV00000001', '05/09/2020', '05/09/2024')
INSERT INTO THETHUVIEN VALUES ('TV00000002', '05/09/2020', '05/09/2024')
INSERT INTO THETHUVIEN VALUES ('TV00000003', '05/09/2020', '05/09/2024')
INSERT INTO THETHUVIEN VALUES ('TV00000004', '05/09/2020', '05/09/2024')
INSERT INTO THETHUVIEN VALUES ('TV00000005', '05/09/2020', '05/09/2024')
INSERT INTO THETHUVIEN VALUES ('TV00000006', '05/09/2020', '05/09/2024')
INSERT INTO THETHUVIEN VALUES ('TV00000007', '05/09/2020', '05/09/2024')
INSERT INTO THETHUVIEN VALUES ('TV00000008', '10/09/2021', '10/09/2025')
INSERT INTO THETHUVIEN VALUES ('TV00000009', '10/09/2021', '10/09/2025')
INSERT INTO THETHUVIEN VALUES ('TV00000010', '10/09/2021', '10/09/2025')

--- 2
INSERT INTO THETHUVIEN VALUES ('TV00000011', '10/09/2021', '10/09/2025')
INSERT INTO THETHUVIEN VALUES ('TV00000012', '10/09/2021', '10/09/2025')
INSERT INTO THETHUVIEN VALUES ('TV00000013', '14/09/2022', '10/09/2025')
INSERT INTO THETHUVIEN VALUES ('TV00000014', '10/09/2021', '10/09/2025')
INSERT INTO THETHUVIEN VALUES ('TV00000015', '10/09/2021', '10/09/2025')
INSERT INTO THETHUVIEN VALUES ('TV00000016', '07/09/2022', '07/09/2026')
INSERT INTO THETHUVIEN VALUES ('TV00000017', '07/09/2022', '07/09/2026')
INSERT INTO THETHUVIEN VALUES ('TV00000018', '07/09/2022', '07/09/2026')
INSERT INTO THETHUVIEN VALUES ('TV00000019', '07/09/2022', '07/09/2026')
INSERT INTO THETHUVIEN VALUES ('TV00000020', '07/09/2022', '07/09/2026')

--- 3
INSERT INTO THETHUVIEN VALUES ('TV00000021', '07/09/2022', '07/09/2026')
INSERT INTO THETHUVIEN VALUES ('TV00000022', '07/09/2022', '07/09/2026')
INSERT INTO THETHUVIEN VALUES ('TV00000023', '07/09/2022', '07/09/2026')
INSERT INTO THETHUVIEN VALUES ('TV00000024', '07/09/2022', '07/09/2026')
INSERT INTO THETHUVIEN VALUES ('TV00000025', '07/09/2022', '07/09/2026')



-- Nhập dữ liệu cho bảng DOCGIA
--- 1
INSERT INTO DOCGIA VALUES ('DG00000001', N'Nguyễn Văn Hùng', N'Nam', '15/02/2002', N'207 đường Giải Phóng, quận Hai Bà Trưng, Hà Nội', 'TV00000001')
INSERT INTO DOCGIA VALUES ('DG00000002', N'Trần Thị Bích', N'Nữ',  '05/05/2002', N'15 ngõ 123 đường Lê Đức Thọ, quận Nam Từ Liêm, Hà Nội', 'TV00000002')
INSERT INTO DOCGIA VALUES ('DG00000003', N'Lê Đức Cảnh', N'Nam', '10/03/2002', N'10 phố Trần Quý Kiên, quận Cầu Giấy, Hà Nội', 'TV00000003')
INSERT INTO DOCGIA VALUES ('DG00000004', N'Phạm Minh Châu', N'Nữ', '30/07/2002', N'52 ngách 32 ngõ Văn Chương, quận Đống Đa, Hà Nội', 'TV00000004')
INSERT INTO DOCGIA VALUES ('DG00000005', N'Hoàng Thị Hậu', N'Nữ',  '25/09/2002', N'89 phố Nguyễn Chí Thanh, quận Ba Đình, Hà Nội', 'TV00000005')
INSERT INTO DOCGIA VALUES ('DG00000006', N'Huỳnh Xuân Nghị',N'Nam',  '01/01/2002', N'3/7 ngõ 78 phố Nguyễn Khang, quận Cầu Giấy, Hà Nội', 'TV00000006')
INSERT INTO DOCGIA VALUES ('DG00000007', N'Đỗ Quang Huy', N'Nam',  '22/04/2002', N'14 ngõ 56 phố Đặng Thai Mai, quận Tây Hồ, Hà Nội', 'TV00000007')
INSERT INTO DOCGIA VALUES ('DG00000008', N'Võ Thanh Hà', N'Nữ',  '12/08/2002', N'27 ngách 12/6 ngõ Thụy Khuê, quận Tây Hồ, Hà Nội', 'TV00000008')
INSERT INTO DOCGIA VALUES ('DG00000009', N'Đặng Ngọc Bích', N'Nữ',  '07/10/2002', N'123 đường Trần Đại Nghĩa, quận Hai Bà Trưng, Hà Nội', 'TV00000009')
INSERT INTO DOCGIA VALUES ('DG00000010', N'Bùi Công Khanh', N'Nam',  '18/06/2002', N'56 phố Hoàng Quốc Việt, quận Cầu Giấy, Hà Nội', 'TV00000010')

--- 2
INSERT INTO DOCGIA VALUES ('DG00000011', N'Ngô Trọng Lợi', N'Nam',  '06/03/2003', N'78 ngõ 45 phố Đại Cồ Việt, quận Hai Bà Trưng, Hà Nội', 'TV00000011')
INSERT INTO DOCGIA VALUES ('DG00000012', N'Dương Thị Phụng', N'Nữ',  '30/08/2003', N'32 ngách 67 ngõ Văn Cao, quận Ba Đình, Hà Nội', 'TV00000012')
INSERT INTO DOCGIA VALUES ('DG00000013', N'Lý Quốc Cường', N'Nam',  '28/06/2003', N'17 phố Trần Phú, quận Hoàn Kiếm, Hà Nội', 'TV00000013')
INSERT INTO DOCGIA VALUES ('DG00000014', N'Trương Đình Nguyên', N'Nam', '05/10/2003', N'22 ngõ 123 phố Láng Hạ, quận Đống Đa, Hà Nội', 'TV00000014')
INSERT INTO DOCGIA VALUES ('DG00000015', N'Đinh Phương Thùy', N'Nữ',  '22/04/2003', N'9 ngách 8/12 ngõ 56 phố Kim Mã, quận Ba Đình, Hà Nội', 'TV00000015')
INSERT INTO DOCGIA VALUES ('DG00000016', N'Đoàn Hữu Quân', N'Nam',  '19/09/2003', N'45 phố Thái Hà, quận Đống Đa, Hà Nội', 'TV00000016')
INSERT INTO DOCGIA VALUES ('DG00000017', N'Vương Thanh Hùng', N'Nam',  '10/05/2003', N'68 ngõ 9 phố Linh Lang, quận Ba Đình, Hà Nội', 'TV00000017')
INSERT INTO DOCGIA VALUES ('DG00000018', N'Hoàng Kim Sa', N'Nữ',  '12/12/2003', N'27 phố Nguyễn Văn Cừ, quận Long Biên, Hà Nội', 'TV00000018')
INSERT INTO DOCGIA VALUES ('DG00000019', N'Phan Thu Trang', N'Nữ',  '14/07/2003', N'87 ngõ 32 phố Nguyễn Du, quận Hai Bà Trưng, Hà Nội', 'TV00000019')
INSERT INTO DOCGIA VALUES ('DG00000020', N'Đặng Quỳnh Trang', N'Nữ', '15/11/2003',  N'42 phố Kim Mã, quận Ba Đình, Hà Nội', 'TV00000020')

--- 3
INSERT INTO DOCGIA VALUES ('DG00000021', N'Trần Đức Vũ', N'Nam',  '08/03/2004', N'36 ngõ 123 phố Lê Trọng Tấn, quận Thanh Xuân, Hà Nội', 'TV00000021')
INSERT INTO DOCGIA VALUES ('DG00000022', N'Lê Thị Xuyến', N'Nữ',  '01/05/2004', N'5 ngách 23 ngõ 56 phố Trần Duy Hưng, quận Cầu Giấy, Hà Nội', 'TV00000022')
INSERT INTO DOCGIA VALUES ('DG00000023', N'Nguyễn Minh Trung', N'Nam', '10/06/2004',  N'76 phố Nguyễn Công Trứ, quận Hai Bà Trưng, Hà Nội', 'TV00000023')
INSERT INTO DOCGIA VALUES ('DG00000024', N'Bùi Hồng  n', N'Nữ',  '31/10/2004', N'19 ngõ 87 phố Yên Lãng, quận Đống Đa, Hà Nội', 'TV00000024')
INSERT INTO DOCGIA VALUES ('DG00000025', N'Võ Tấn Phát', N'Nam',  '04/07/2004', N'8 phố Trần Hưng Đạo, quận Hoàn Kiếm, Hà Nội', 'TV00000025')



-- Nhập dữ liệu cho bảng NHANVIEN
INSERT INTO NHANVIEN VALUES ('NV001', N'Lê Thị Thanh', N'Nữ', '20/3/1993', '0983145790')
INSERT INTO NHANVIEN VALUES ('NV002', N'Trần Thanh Long',N'Nam', '14/07/1995', '0354090476')
INSERT INTO NHANVIEN VALUES ('NV003', N'Nguyễn Văn Huy', N'Nam', '05/08/1990', '0987471850')
INSERT INTO NHANVIEN VALUES ('NV004', N'Đặng Ngọc Mỹ', N'Nữ', '30/01/1996', '0794472891')
INSERT INTO NHANVIEN VALUES ('NV005', N'Lâm Vũ', N'Nữ', '09/03/1990', '0783336224')



-- Nhập dữ liệu cho bảng TAILIEU_TACGIA
--- 1
INSERT INTO TAILIEU_TACGIA VALUES ('QHVMTTM375372', 'TG00000001')
INSERT INTO TAILIEU_TACGIA VALUES ('CSGSOVN059735', 'TG00000004')
INSERT INTO TAILIEU_TACGIA VALUES ('BTQCBTC059863', 'TG00000002')
INSERT INTO TAILIEU_TACGIA VALUES ('BTQCBTC059863', 'TG00000003')
INSERT INTO TAILIEU_TACGIA VALUES ('AOFELII001407', 'TG00000005')
INSERT INTO TAILIEU_TACGIA VALUES ('ARDCARN059745', 'TG00000012')
INSERT INTO TAILIEU_TACGIA VALUES ('ARDCARN059745', 'TG00000013')
INSERT INTO TAILIEU_TACGIA VALUES ('ANTPHGD061266', 'TG00000017')
INSERT INTO TAILIEU_TACGIA VALUES ('BANKBCK017207', 'TG00000018')
INSERT INTO TAILIEU_TACGIA VALUES ('BGNLKTV012810', 'TG00000006')
INSERT INTO TAILIEU_TACGIA VALUES ('BGNLKTV012810', 'TG00000008')
INSERT INTO TAILIEU_TACGIA VALUES ('ARDCARN059745', 'TG00000004')
INSERT INTO TAILIEU_TACGIA VALUES ('BGTVTKT021376', 'TG00000007')
INSERT INTO TAILIEU_TACGIA VALUES ('BHTMPCQ372851', 'TG00000008')
INSERT INTO TAILIEU_TACGIA VALUES ('BHTMPCQ372851', 'TG00000009')

--- 2
INSERT INTO TAILIEU_TACGIA VALUES ('BTVKTDN014838', 'TG00000009')
INSERT INTO TAILIEU_TACGIA VALUES ('BTKTVTC051831', 'TG00000010')
INSERT INTO TAILIEU_TACGIA VALUES ('BTKTVTC051831', 'TG00000011')
INSERT INTO TAILIEU_TACGIA VALUES ('BTMHTKT020237', 'TG00000009')
INSERT INTO TAILIEU_TACGIA VALUES ('BTMHTKT020237', 'TG00000013')
INSERT INTO TAILIEU_TACGIA VALUES ('BTQTSXV051611', 'TG00000010')
INSERT INTO TAILIEU_TACGIA VALUES ('BTQTSXV051611', 'TG00000014')
INSERT INTO TAILIEU_TACGIA VALUES ('DTTSVTS373517', 'TG00000063')
INSERT INTO TAILIEU_TACGIA VALUES ('BTTHQTD013957', 'TG00000011')
INSERT INTO TAILIEU_TACGIA VALUES ('BTXSVTK046076', 'TG00000011')
INSERT INTO TAILIEU_TACGIA VALUES ('BHDCCCD006015', 'TG00000013')
INSERT INTO TAILIEU_TACGIA VALUES ('BANLINH054053', 'TG00000014')
INSERT INTO TAILIEU_TACGIA VALUES ('BANLINH054053', 'TG00000022')
INSERT INTO TAILIEU_TACGIA VALUES ('BBDGTCT101912', 'TG00000016')
INSERT INTO TAILIEU_TACGIA VALUES ('BBDGTCT101912', 'TG00000026')

--- 3
INSERT INTO TAILIEU_TACGIA VALUES ('CTTHTVN374050', 'TG00000015')
INSERT INTO TAILIEU_TACGIA VALUES ('CGPNHTH061302', 'TG00000016')
INSERT INTO TAILIEU_TACGIA VALUES ('CGPTCCH017043', 'TG00000019')
INSERT INTO TAILIEU_TACGIA VALUES ('CGPTCCH017043', 'TG00000029')
INSERT INTO TAILIEU_TACGIA VALUES ('CGPTCQL008921', 'TG00000020')
INSERT INTO TAILIEU_TACGIA VALUES ('CGPTCQL008921', 'TG00000018')
INSERT INTO TAILIEU_TACGIA VALUES ('DSVNDSH372933', 'TG00000025')
INSERT INTO TAILIEU_TACGIA VALUES ('DANSOVA048514', 'TG00000026')
INSERT INTO TAILIEU_TACGIA VALUES ('DANSOVA048514', 'TG00000022')
INSERT INTO TAILIEU_TACGIA VALUES ('DTTTCNN001608', 'TG00000027')
INSERT INTO TAILIEU_TACGIA VALUES ('DTTTCNN001608', 'TG00000035')
INSERT INTO TAILIEU_TACGIA VALUES ('DHNBCGT373120', 'TG00000029')
INSERT INTO TAILIEU_TACGIA VALUES ('DGRNLMD019402', 'TG00000022')
INSERT INTO TAILIEU_TACGIA VALUES ('DGRNLMD019402', 'TG00000023')
INSERT INTO TAILIEU_TACGIA VALUES ('DUHOCMY059573', 'TG00000024')

--- 4
INSERT INTO TAILIEU_TACGIA VALUES ('EBUSINE014378', 'TG00000021')
INSERT INTO TAILIEU_TACGIA VALUES ('QATTMXC059874', 'TG00000030')
INSERT INTO TAILIEU_TACGIA VALUES ('QATTMXC059874', 'TG00000031')
INSERT INTO TAILIEU_TACGIA VALUES ('ERFVCYT373652', 'TG00000028')
INSERT INTO TAILIEU_TACGIA VALUES ('ERFLIOV009376', 'TG00000031')
INSERT INTO TAILIEU_TACGIA VALUES ('ERFLIOV009376', 'TG00000035')
INSERT INTO TAILIEU_TACGIA VALUES ('FBCKNDH019982', 'TG00000018')
INSERT INTO TAILIEU_TACGIA VALUES ('ERFLIOV009376', 'TG00000027')
INSERT INTO TAILIEU_TACGIA VALUES ('FDIITTS001215', 'TG00000028')
INSERT INTO TAILIEU_TACGIA VALUES ('GTTTDBP400267', 'TG00000016')
INSERT INTO TAILIEU_TACGIA VALUES ('CTKCBNT060019', 'TG00000033')
INSERT INTO TAILIEU_TACGIA VALUES ('CTKCBNT060019', 'TG00000038')
INSERT INTO TAILIEU_TACGIA VALUES ('GIAUTUD052452', 'TG00000067')
INSERT INTO TAILIEU_TACGIA VALUES ('GTDLCVH700404', 'TG00000069')
INSERT INTO TAILIEU_TACGIA VALUES ('GTDLCVH700404', 'TG00000033')

--- 5
INSERT INTO TAILIEU_TACGIA VALUES ('GTGTHN0S46246', 'TG00000021')
INSERT INTO TAILIEU_TACGIA VALUES ('GTGTHN0S46246', 'TG00000063')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKTCDN005867', 'TG00000068')
INSERT INTO TAILIEU_TACGIA VALUES ('GTVKTQT035357', 'TG00000053')
INSERT INTO TAILIEU_TACGIA VALUES ('GTVKTQT035357', 'TG00000011')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKTTCT929051', 'TG00000070')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKTDVH004523', 'TG00000068')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKTDVH004523', 'TG00000032')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKDVMT929191', 'TG00000070')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKTTDN004651', 'TG00000068')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKTTDN004651', 'TG00000054')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKTVLN035630', 'TG00000062')
INSERT INTO TAILIEU_TACGIA VALUES ('GTKTVLN035630', 'TG00000052')
INSERT INTO TAILIEU_TACGIA VALUES ('HVCKHGT373241', 'TG00000031')
INSERT INTO TAILIEU_TACGIA VALUES ('HVCNDTT001062', 'TG00000069')

--- 6
INSERT INTO TAILIEU_TACGIA VALUES ('HTKTTDN008156', 'TG00000070')
INSERT INTO TAILIEU_TACGIA VALUES ('HKTVXLT028095', 'TG00000063')
INSERT INTO TAILIEU_TACGIA VALUES ('HKTVXLT028095', 'TG00000026')
INSERT INTO TAILIEU_TACGIA VALUES ('TCTTTIO019181', 'TG00000066')
INSERT INTO TAILIEU_TACGIA VALUES ('KTDNGTC374235', 'TG00000067')
INSERT INTO TAILIEU_TACGIA VALUES ('KTDNGTC374235', 'TG00000017')
INSERT INTO TAILIEU_TACGIA VALUES ('KTCPSXV039180', 'TG00000069')
INSERT INTO TAILIEU_TACGIA VALUES ('KTCPSXV039180', 'TG00000028')
INSERT INTO TAILIEU_TACGIA VALUES ('KTCTDVH040139', 'TG00000054')
INSERT INTO TAILIEU_TACGIA VALUES ('KTCTDVH040139', 'TG00000056')
INSERT INTO TAILIEU_TACGIA VALUES ('KTDNLTB044762', 'TG00000034')
INSERT INTO TAILIEU_TACGIA VALUES ('KTDNLTB044762', 'TG00000057')
INSERT INTO TAILIEU_TACGIA VALUES ('KTTCVNH004604', 'TG00000012')
INSERT INTO TAILIEU_TACGIA VALUES ('KTTQTDN016917', 'TG00000035')
INSERT INTO TAILIEU_TACGIA VALUES ('KTTQTDN016917', 'TG00000022')

--- 7
INSERT INTO TAILIEU_TACGIA VALUES ('KTTCTCD014579', 'TG00000003')
INSERT INTO TAILIEU_TACGIA VALUES ('KTTCTCD014579', 'TG00000063')
INSERT INTO TAILIEU_TACGIA VALUES ('LDNTDCR372869', 'TG00000052')
INSERT INTO TAILIEU_TACGIA VALUES ('LCCNLCT059341', 'TG00000034')
INSERT INTO TAILIEU_TACGIA VALUES ('LCCNLCT059341', 'TG00000037')
INSERT INTO TAILIEU_TACGIA VALUES ('TCTTTCK060637', 'TG00000034')
INSERT INTO TAILIEU_TACGIA VALUES ('LDNLTNT019289', 'TG00000037')
INSERT INTO TAILIEU_TACGIA VALUES ('LDNLTNT019289', 'TG00000011')
INSERT INTO TAILIEU_TACGIA VALUES ('LKHQLTC061103', 'TG00000056')
INSERT INTO TAILIEU_TACGIA VALUES ('LKHQLTC061103', 'TG00000051')
INSERT INTO TAILIEU_TACGIA VALUES ('LLNTPTN060551', 'TG00000056')
INSERT INTO TAILIEU_TACGIA VALUES ('LKKTGDN372948', 'TG00000032')
INSERT INTO TAILIEU_TACGIA VALUES ('LKKTGDN372948', 'TG00000033')
INSERT INTO TAILIEU_TACGIA VALUES ('LTCTDNT018688', 'TG00000035')
INSERT INTO TAILIEU_TACGIA VALUES ('LHGTDLV151312', 'TG00000036')

--- 8
INSERT INTO TAILIEU_TACGIA VALUES ('MARKETI060761', 'TG00000032')
INSERT INTO TAILIEU_TACGIA VALUES ('MARKETM048654', 'TG00000038')
INSERT INTO TAILIEU_TACGIA VALUES ('MARKETM048654', 'TG00000024')
INSERT INTO TAILIEU_TACGIA VALUES ('NCCLCVK006879', 'TG00000039')
INSERT INTO TAILIEU_TACGIA VALUES ('NCCLCVK006879', 'TG00000025')
INSERT INTO TAILIEU_TACGIA VALUES ('NHDTVPT161845', 'TG00000040')
INSERT INTO TAILIEU_TACGIA VALUES ('NHDTVPT161845', 'TG00000036')
INSERT INTO TAILIEU_TACGIA VALUES ('PVVLQTH373707', 'TG00000040')
INSERT INTO TAILIEU_TACGIA VALUES ('PVVLQTH373707', 'TG00000059')
INSERT INTO TAILIEU_TACGIA VALUES ('PHAPLUA014712', 'TG00000051')
INSERT INTO TAILIEU_TACGIA VALUES ('PHAPLUA014712', 'TG00000005')
INSERT INTO TAILIEU_TACGIA VALUES ('PHAPLUA014712', 'TG00000008')
INSERT INTO TAILIEU_TACGIA VALUES ('PTCKCNT373741', 'TG00000035')
INSERT INTO TAILIEU_TACGIA VALUES ('QHLAODO020055', 'TG00000052')
INSERT INTO TAILIEU_TACGIA VALUES ('QHTHUMA929531', 'TG00000035')

--- 9
INSERT INTO TAILIEU_TACGIA VALUES ('QDGPPTK372727', 'TG00000039')
INSERT INTO TAILIEU_TACGIA VALUES ('QDGPPTK372727', 'TG00000038')
INSERT INTO TAILIEU_TACGIA VALUES ('QLNVCCN001590', 'TG00000051')
INSERT INTO TAILIEU_TACGIA VALUES ('QLCTRSH001396', 'TG00000053')
INSERT INTO TAILIEU_TACGIA VALUES ('QLCTRSH001396', 'TG00000012')
INSERT INTO TAILIEU_TACGIA VALUES ('RRKKNTT373769', 'TG00000054')
INSERT INTO TAILIEU_TACGIA VALUES ('SBTKTHD053496', 'TG00000054')
INSERT INTO TAILIEU_TACGIA VALUES ('SATTHUB057993', 'TG00000057')
INSERT INTO TAILIEU_TACGIA VALUES ('SATTHUB057993', 'TG00000030')
INSERT INTO TAILIEU_TACGIA VALUES ('SATTHUB057993', 'TG00000038')
INSERT INTO TAILIEU_TACGIA VALUES ('SPDVTCV008821', 'TG00000053')
INSERT INTO TAILIEU_TACGIA VALUES ('SPDVTCV008821', 'TG00000060')
INSERT INTO TAILIEU_TACGIA VALUES ('SMCCGDV059412', 'TG00000058')
INSERT INTO TAILIEU_TACGIA VALUES ('SMCCGDV059412', 'TG00000040')
INSERT INTO TAILIEU_TACGIA VALUES ('SMCNCSO058495', 'TG00000058')

--- 10
INSERT INTO TAILIEU_TACGIA VALUES ('SDVLDTC181044', 'TG00000039')
INSERT INTO TAILIEU_TACGIA VALUES ('STDNLKT373326', 'TG00000055')
INSERT INTO TAILIEU_TACGIA VALUES ('TLHTTHD008637', 'TG00000057')
INSERT INTO TAILIEU_TACGIA VALUES ('TLHTTHD008637', 'TG00000053')
INSERT INTO TAILIEU_TACGIA VALUES ('TDCDCND001450', 'TG00000059')
INSERT INTO TAILIEU_TACGIA VALUES ('TDCTTKT061187', 'TG00000060')
INSERT INTO TAILIEU_TACGIA VALUES ('TDCTTKT061187', 'TG00000007')
INSERT INTO TAILIEU_TACGIA VALUES ('TCTDNNN373389', 'TG00000061')
INSERT INTO TAILIEU_TACGIA VALUES ('TLVNTGT051765', 'TG00000055')
INSERT INTO TAILIEU_TACGIA VALUES ('TLVNTGT051765', 'TG00000062')
INSERT INTO TAILIEU_TACGIA VALUES ('ULDCLSC373712', 'TG00000061')
INSERT INTO TAILIEU_TACGIA VALUES ('UDMHLVX221409', 'TG00000055')
INSERT INTO TAILIEU_TACGIA VALUES ('UDMSLTT017940', 'TG00000060')
INSERT INTO TAILIEU_TACGIA VALUES ('UDMSLTT017940', 'TG00000059')
INSERT INTO TAILIEU_TACGIA VALUES ('UDMSLTT017940', 'TG00000023')

--- 11
INSERT INTO TAILIEU_TACGIA VALUES ('VTCCNDV378957', 'TG00000061')
INSERT INTO TAILIEU_TACGIA VALUES ('VTCUBND016245', 'TG00000059')
INSERT INTO TAILIEU_TACGIA VALUES ('VTCVHTB373043', 'TG00000063')
INSERT INTO TAILIEU_TACGIA VALUES ('VTCDTTT000155', 'TG00000064')
INSERT INTO TAILIEU_TACGIA VALUES ('VTCDTTT000155', 'TG00000027')
INSERT INTO TAILIEU_TACGIA VALUES ('VTCDTHD000362', 'TG00000065')
INSERT INTO TAILIEU_TACGIA VALUES ('VPTBVCN373260', 'TG00000065')
INSERT INTO TAILIEU_TACGIA VALUES ('VLVGNTT021882', 'TG00000064')
INSERT INTO TAILIEU_TACGIA VALUES ('XDHATHD373744', 'TG00000059')

-- Nhập dữ liệu cho bảng CTMUONTRA
--- 1
INSERT INTO CTMUONTRA VALUES ('MT00000001', '12/09/2020', 1, 0, '30/10/2020', '', 'TV00000001', 'BTQCBTC059863', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000002', '12/09/2020', 1, 1, '10/12/2020', '', 'TV00000007', 'BTQCBTC059863', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000003', '15/09/2020', 1, 0, '05/10/2020', '', 'TV00000004', 'DGRNLMD019402', 'NV002')
INSERT INTO CTMUONTRA VALUES ('MT00000004', '17/10/2020', 1, 1, '30/11/2020', '', 'TV00000002', 'GTKTCDN005867', 'NV005')
INSERT INTO CTMUONTRA VALUES ('MT00000005', '12/10/2020', 0, 1, NULL, '', 'TV00000002', 'KTTCVNH004604', 'NV003')
INSERT INTO CTMUONTRA VALUES ('MT00000006', '27/10/2020', 1, 1, '07/01/2021', '', 'TV00000006', 'BGTVTKT021376', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000007', '29/10/2020', 0, 0, NULL, '', 'TV00000001', 'EBUSINE014378', 'NV005')
INSERT INTO CTMUONTRA VALUES ('MT00000008', '05/11/2020', 0, 0, NULL, '', 'TV00000004', 'BGTVTKT021376', 'NV005')
INSERT INTO CTMUONTRA VALUES ('MT00000009', '27/11/2020', 1, 0, '09/12/2020', '', 'TV00000004', 'BGTVTKT021376', 'NV005')
INSERT INTO CTMUONTRA VALUES ('MT00000010', '02/12/2020', 0, 0, NULL, '', 'TV00000004', 'SATTHUB057993', 'NV004')

--- 2
INSERT INTO CTMUONTRA VALUES ('MT00000011', '10/04/2021', 0, 0, NULL, '', 'TV00000007', 'KTCTDVH040139', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000012', '15/05/2021', 1, 0, '18/05/2021', '', 'TV00000004', 'LKHQLTC061103', 'NV004')
INSERT INTO CTMUONTRA VALUES ('MT00000013', '22/05/2021', 0, 0, NULL, '', 'TV00000006', 'KTCTDVH040139', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000014', '07/06/2021', 1, 0, '20/06/2021', '', 'TV00000001', 'QHTHUMA929531', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000015', '30/09/2021', 0, 0, NULL, '', 'TV00000015', 'BTVKTDN014838', 'NV004')
INSERT INTO CTMUONTRA VALUES ('MT00000016', '01/10/2021', 1, 0, '31/12/2021', '', 'TV00000014', 'BTKTVTC051831', 'NV003')
INSERT INTO CTMUONTRA VALUES ('MT00000017', '08/10/2021', 1, 0, '29/10/2021', '', 'TV00000012', 'GTKTVLN035630', 'NV005')
INSERT INTO CTMUONTRA VALUES ('MT00000018', '24/10/2021', 0, 1, NULL, '', 'TV00000015', 'QHLAODO020055', 'NV002')
INSERT INTO CTMUONTRA VALUES ('MT00000019', '27/11/2021', 0, 1, NULL, '', 'TV00000009', 'GTKTVLN035630', 'NV002')
INSERT INTO CTMUONTRA VALUES ('MT00000020', '29/11/2021', 0, 1, NULL, '', 'TV00000011', 'DUHOCMY059573', 'NV005')

--- 3
INSERT INTO CTMUONTRA VALUES ('MT00000021', '07/01/2022', 0, 1, NULL, '', 'TV00000012', 'QATTMXC059874', 'NV002')
INSERT INTO CTMUONTRA VALUES ('MT00000022', '21/03/2022', 0, 0, NULL, '', 'TV00000002', 'UDMSLTT017940', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000023', '25/03/2022', 1, 0, '03/04/2022', '', 'TV00000008', 'SMCCGDV059412', 'NV004')
INSERT INTO CTMUONTRA VALUES ('MT00000024', '24/04/2022', 1, 0, '09/05/2022', '', 'TV00000008', 'UDMSLTT017940', 'NV004')
INSERT INTO CTMUONTRA VALUES ('MT00000025', '16/05/2022', 0, 0, NULL, '', 'TV00000009', 'SBTKTHD053496', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000026', '11/06/2022', 0, 0, NULL, '', 'TV00000007', 'SBTKTHD053496', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000027', '26/06/2022', 1, 0, '10/07/2022', '', 'TV00000009', 'SMCCGDV059412', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000028', '30/07/2022', 0, 0, NULL, '', 'TV00000012', 'TLVNTGT051765', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000029', '16/08/2022', 1, 1, '09/10/2022', '', 'TV00000015', 'MARKETM048654', 'NV001')
INSERT INTO CTMUONTRA VALUES ('MT00000030', '17/08/2022', 0, 0, NULL, '', 'TV00000015', 'MARKETI060761', 'NV001')

--- 4
INSERT INTO CTMUONTRA VALUES ('MT00000031', '09/09/2022', 0, 0, NULL, '', 'TV00000016', 'QATTMXC059874', 'NV002')
INSERT INTO CTMUONTRA VALUES ('MT00000032', '11/09/2022', 0, 0, NULL, '', 'TV00000007', 'UDMSLTT017940', 'NV002')
INSERT INTO CTMUONTRA VALUES ('MT00000033', '25/09/2022', 1, 1, '03/11/2022', '', 'TV00000025', 'LCCNLCT059341', 'NV002')
INSERT INTO CTMUONTRA VALUES ('MT00000034', '24/09/2022', 0, 1, NULL, '', 'TV00000006', 'LCCNLCT059341', 'NV004')
INSERT INTO CTMUONTRA VALUES ('MT00000035', '16/10/2022', 0, 0, NULL, '', 'TV00000020', 'LLNTPTN060551', 'NV003')
INSERT INTO CTMUONTRA VALUES ('MT00000036', '03/01/2023', 0, 1, NULL, '', 'TV00000002', 'DGRNLMD019402', 'NV002')
INSERT INTO CTMUONTRA VALUES ('MT00000037', '11/01/2023', 0, 0, NULL, '', 'TV00000006', 'TCTTTCK060637', 'NV003')
INSERT INTO CTMUONTRA VALUES ('MT00000038', '25/01/2023', 1, 1, '03/03/2023', '', 'TV00000005', 'DANSOVA048514', 'NV004')
INSERT INTO CTMUONTRA VALUES ('MT00000039', '24/02/2023', 1, 0, '06/03/2023', '', 'TV00000017', 'LCCNLCT059341', 'NV004')
INSERT INTO CTMUONTRA VALUES ('MT00000040', '16/05/2023', 0, 0, NULL, '', 'TV00000020', 'ARDCARN059745', 'NV003')

--- 5
INSERT INTO CTMUONTRA VALUES ('MT00000041', '17/05/2023', 1, 0, '19/05/2023', '', 'TV00000022', 'GTKTTDN004651', 'NV005')
INSERT INTO CTMUONTRA VALUES ('MT00000042', '21/05/2023', 1, 0, '08/06/2023', '', 'TV00000017', 'SMCNCSO058495', 'NV005')
INSERT INTO CTMUONTRA VALUES ('MT00000043', '19/05/2023', 0, 0, NULL, '', 'TV00000024', 'TLHTTHD008637', 'NV005')
INSERT INTO CTMUONTRA VALUES ('MT00000044', '09/05/2023', 0, 1, NULL, '', 'TV00000021', 'TLHTTHD008637', 'NV004')
INSERT INTO CTMUONTRA VALUES ('MT00000045', '04/06/2023', 0, 0, NULL, '', 'TV00000018', 'CTKCBNT060019', 'NV004')

-- A. STORED PROCEDURE
--	1. Tham số vào là MaTaiLieu, TenTaiLieu, NgayXuatBan, 
--		MaNXB, MaTheLoai, HienCo, DangMuon. 
--		Trước khi insert dữ liệu cần kiểm tra MaNXB và MaTheLoai 
--		đã tồn tại trong table NHAXUATBAN và THELOAI chưa.
-- (Chức năng nhập tài liệu mới của nhân viên)
SET DATEFORMAT DMY

CREATE PROCEDURE PROC_INSERT_TAILIEU_MaNXB_MaTheLoai
--DS THAM SỐ
	@MaTaiLieu varchar(13), @TenTaiLieu nvarchar(100), @NgayXuatBan smalldatetime, 
	@MaNXB varchar(10), @MaTheLoai varchar(10), @HienCo varchar(2), @DangMuon varchar(2)
AS
BEGIN	
	-- Kiểm tra sự tồn tại của MaNXB và MaTheLoai
	IF EXISTS (SELECT * FROM NHAXUATBAN WHERE MaNXB = @MaNXB) AND EXISTS (SELECT * FROM THELOAI WHERE MaTheLoai = @MaTheLoai)
	BEGIN
		-- Thực hiện INSERT vào bảng TAILIEU
		INSERT INTO TAILIEU (MaTaiLieu, TenTaiLieu, NgayXuatBan, MaNXB, MaTheLoai, HienCo, DangMuon)
		VALUES (@MaTaiLieu, @TenTaiLieu, @NgayXuatBan, @MaNXB, @MaTheLoai, @HienCo, @DangMuon)
		PRINT N'THÊM TÀI LIỆU THÀNH CÔNG'
	END
	ELSE
		BEGIN
			PRINT N'MaNXB HOẶC MaTheLoai KHÔNG TỒN TẠI'
			RETURN 0
		END
END

-- 1.2. THỰC THI
-- 1.2.1 ĐÚNG
EXEC PROC_INSERT_TAILIEU_MaNXB_MaTheLoai 'TAILIEU000001', N'Giới thiệu về ngành Kinh tế học', '17/05/2023', 'KTQD2495', 'SI7683', '5', '0'

-- 1.2.2. SAI (MaNXB KHÔNG TỒN TẠI)
EXEC PROC_INSERT_TAILIEU_MaNXB_MaTheLoai 'TAILIEU000002', N'Tài chính hành vi – Tâm lí quyết định thị trường', '07/09/2018', 'KTQD1234', 
										'SI7683', '7', '0'
-- 1.3. KIỂM TRA
SELECT * FROM TAILIEU

--1.4. KHÔI PHỤC DỮ LIỆU
DELETE FROM TAILIEU WHERE MaTaiLieu = 'TAILIEU000001'

--1.5. XÓA 
DROP PROC PROC_INSERT_TAILIEU_MaNXB_MaTheLoai

-- 2. Dựa vào từ khóa hiển thị:
--	Thông tin các tài liệu có từ khóa đó:  mã tài liệu, tên tài liệu, 
--	tên tác giả, tên nhà xuất bản, ngày xuất bản
CREATE PROC PROC_TaiLieu_BY_TuKhoa
	@TuKhoa NVARCHAR(100)
AS
BEGIN
	-- LOGIC
	IF EXISTS (SELECT * FROM TAILIEU WHERE TAILIEU.TenTaiLieu LIKE '%' + @TuKhoa + '%')
		BEGIN
			SELECT tl.MaTaiLieu as 'Mã tài liệu', tl.TenTaiLieu as 'Tên tài liệu',
			TACGIA.TenTacGia as 'Tên tác giả', 
				nxb.TenNXB as 'Tên nhà xuất bản', 
				tl.NgayXuatBan as 'Ngày xuất bản'
			FROM THELOAI JOIN TAILIEU tl ON THELOAI.MaTheLoai = tl.MaTheLoai
			JOIN NHAXUATBAN nxb ON nxb.MaNXB = tl.MaNXB 
			JOIN TAILIEU_TACGIA ON TAILIEU_TACGIA.MaTaiLieu = tl.MaTaiLieu
			JOIN TACGIA ON TAILIEU_TACGIA.MaTacGia = TACGIA.MaTacGia
			WHERE tl.TenTaiLieu LIKE '%' + @TuKhoa + '%'
		END
	ELSE
		PRINT N'KHÔNG TÌM THẤY TÀI LIỆU CÓ TÊN PHÙ HỢP'
END
GO

-- 2.2. THỰC THI VÀ KIỂM TRA
DECLARE @TuKhoa NVARCHAR(100)
SET @TuKhoa = 'kế'

EXEC PROC_TaiLieu_BY_TuKhoa @TuKhoa

-- 2.3. XÓA
DROP PROC PROC_TaiLieu_BY_TuKhoa
GO

-- 3. Dựa vào số thẻ của thẻ thư viện có thể xem được: 
--		Thông tin các tài liệu đã mượn: mã mượn trả, 
--		tên tài liệu, ngày mượn, tình trạng trả
CREATE PROC PROC_TTMUONTRA_BY_SoThe
	@SoThe VARCHAR(10)
AS
BEGIN
	-- LOGIC
	IF EXISTS (SELECT * FROM THETHUVIEN WHERE SoThe = @SoThe)
		BEGIN
			SELECT ct.MaMuonTra as 'Mã mượn trả', tl.TenTaiLieu as 'Tên tài liệu', 
			ct.NgayMuon as 'Ngày mượn', ct.DaTra as 'Tình trạng trả'
			FROM CTMUONTRA ct JOIN THETHUVIEN ON ct.SoThe = THETHUVIEN.SoThe 
							JOIN TAILIEU tl ON ct.MaTaiLieu = tl.MaTaiLieu
			WHERE THETHUVIEN.SoThe = @SoThe
		END
	ELSE
		PRINT N'SỐ THẺ KHÔNG TỒN TẠI'
END
GO
-- 3.2. THỰC THI VÀ KIỂM TRA
DECLARE @SoThe VARCHAR(10)
SET @SoThe = N'TV00000001'

EXEC PROC_TTMUONTRA_BY_SoThe @SoThe

-- 3.3. XÓA
DROP PROC PROC_TTMUONTRA_BY_SoThe
GO



-- 4. Dựa vào mã mượn trả hiển thị:
--	Số tiền phạt trả trễ hạn (nếu có)

SET DATEFORMAT DMY

CREATE PROC PROC_TienPhat_BY_MaMuonTra
	@MaMuonTra CHAR(11)
AS
BEGIN
	DECLARE @TienPhat money,
			@NgayMuon smalldatetime,
			@GiaHan bit, 
			@MaTheLoai varchar(10)
	SET @NgayMuon = NULL
	SET @GiaHan = NULL
	-- LOGIC
	IF EXISTS (SELECT * FROM CTMUONTRA WHERE CTMUONTRA.MaMuonTra = @MaMuonTra)
		BEGIN
			SELECT @NgayMuon = NgayMuon, @GiaHan = GiaHan, @MaTheLoai = tl.MaTheLoai
			FROM CTMUONTRA ct JOIN TAILIEU tl ON ct.MaTaiLieu = tl.MaTaiLieu JOIN THELOAI ON tl.MaTheLoai = THELOAI.MaTheLoai
			WHERE (GETDATE() - NgayMuon > 45 and THELOAI.MaTheLoai = 'SI7683' and DaTra = 0 and MaMuonTra = @MaMuonTra and GiaHan = 0)
			or (GETDATE() - NgayMuon > 45+7 and THELOAI.MaTheLoai = 'SI7683' and DaTra = 0 and MaMuonTra = @MaMuonTra and GiaHan = 1)
			or (GETDATE() - NgayMuon > 90 and THELOAI.MaTheLoai = 'GT8334' and DaTra = 0 and MaMuonTra = @MaMuonTra and GiaHan = 0)
			or (GETDATE() - NgayMuon > 90+14 and THELOAI.MaTheLoai = 'GT8334' and DaTra = 0 and MaMuonTra = @MaMuonTra and GiaHan = 1)

			IF @NgayMuon IS NULL PRINT N'Mượn chưa quá hạn'
			ELSE 
				BEGIN
					IF @MaTheLoai = 'SI7683' and @GiaHan = 0
						SET @TienPhat = 2000 * (CAST(( GETDATE() - @NgayMuon ) AS int) - 45) 
					ELSE
						IF @MaTheLoai = 'SI7683' and @GiaHan = 1
							SET @TienPhat = 2000 * (CAST(( GETDATE() - @NgayMuon ) AS int) - 45 - 7) 
						ELSE
							IF @MaTheLoai = 'GT8334' and @GiaHan = 0
								SET @TienPhat = 2000 * (CAST(( GETDATE() - @NgayMuon ) AS int) - 90) 
							ELSE
									SET @TienPhat = 2000 * (CAST(( GETDATE() - @NgayMuon ) AS int) - 90 - 7) 
					PRINT N'Số ngày quá hạn là: ' + CAST(CAST((@TienPhat / 2000) AS INT) AS NVARCHAR) 
					PRINT N'Số tiền phạt quá hạn là: ' + CAST(CAST((@TienPhat) AS INT) AS NVARCHAR) + N'VND'
				END
		END
	ELSE
		PRINT N'MÃ MƯỢN TRẢ KHÔNG TỒN TẠI'
END
GO

-- 4.2. THỰC THI VÀ KIỂM TRA
DECLARE @MaMuonTra CHAR(11)
SET @MaMuonTra = 'MT00000006'

EXEC PROC_TienPhat_BY_MaMuonTra @MaMuonTra

-- 4.3. XÓA
DROP PROC PROC_TienPhat_BY_MaMuonTra
GO






-- B. TRIGGER
-- 1. Ngày hết hạn của thẻ thư viện phải sau ngày bắt đầu.
-- (Ràng buộc logic thời gian)
CREATE TRIGGER TRIG_INSERT_UPDATE_NBD_NHH
ON THETHUVIEN FOR INSERT,UPDATE
AS
BEGIN
	IF (SELECT COUNT(*) 
		FROM INSERTED 
		WHERE INSERTED.NgayBatDau > INSERTED.NgayHetHan) > 0
	BEGIN
	ROLLBACK TRANSACTION
	RAISERROR (N'NGÀY HẾT HẠN CỦA THẺ THƯ VIỆN PHẢI SAU NGÀY BẮT ĐẦU', 16, 1)
	RETURN
	END
END

SET DATEFORMAT DMY

-- 1.2. THỰC THI
-- 1.2.1. KIỂM TRA VỚI INSERT
INSERT INTO THETHUVIEN VALUES ('TV00000026', '07/09/2022', '07/09/2021') -- DỮ LIỆU SAI --> BÁO LỖI --> TRIGGER ĐÚNG
INSERT INTO THETHUVIEN VALUES ('TV00000026', '07/09/2022', '07/09/2026') -- DỮ LIỆU ĐÚNG --> KHÔNG BÁO LỖI --> TRIGGER ĐÚNG

-- 1.2.2. KIỂM TRA VỚI UPDATE
UPDATE THETHUVIEN
SET NgayHetHan = '07/09/2021'
WHERE SoThe = 'TV00000026'  -- BÁO LỖI -> TRIGGER đúng

-- 1.3. KIỂM TRA DỮ LIỆU TRONG BẢNG
SELECT * FROM THETHUVIEN

-- 1.4. KHÔI PHỤC DỮ LIỆU
DELETE FROM THETHUVIEN WHERE SoThe = 'TV00000026'

-- 1.5. XÓA
DROP TRIGGER TRIG_INSERT_UPDATE_NBD_NHH
GO

-- 2.2. Mỗi thẻ thư viện không được mượn quá 3 cuốn sách..
CREATE TRIGGER TRIG_INSERT_UPDATE_ST
ON CTMUONTRA FOR INSERT, UPDATE
AS
BEGIN
	IF (SELECT COUNT(*) 
		FROM INSERTED, CTMUONTRA ct
		WHERE INSERTED.SoThe = ct.SoThe AND INSERTED.MaMuonTra 
							<> ct.MaMuonTra AND ct.DaTra = 0) > 2
	BEGIN
	ROLLBACK TRANSACTION
	RAISERROR (N'MỖI THẺ THƯ VIỆN KHÔNG ĐƯỢC MƯỢN QUÁ 3 QUYỂN TÀI LIỆU', 16, 1)
	RETURN
	END
END

SET DATEFORMAT DMY

-- 2.2. THỰC THI
-- 2.2.1. KIỂM TRA VỚI INSERT
INSERT INTO CTMUONTRA VALUES ('MT00000046', '09/09/2022', 1, 0, '08/10/2022', '', 
								'TV00000002', 'QATTMXC059874', 'NV002') -- BÁO LỖI -> TRIGGER ĐÚNG
INSERT INTO CTMUONTRA VALUES ('MT00000046', '09/09/2022', 1, 0, '08/10/2022', '', 
								'TV00000017', 'QATTMXC059874', 'NV002') -- KO BÁO LỖI -> TRIGGER ĐÚNG
-- 2.2.2. KIỂM TRA VỚI UPDATE
UPDATE CTMUONTRA
SET SoThe = 'TV00000002'
WHERE MaMuonTra = 'MT00000046'  -- BÁO LỖI -> TRIGGER ĐÚNG

-- 2.3. KIỂM TRA
SELECT * FROM CTMUONTRA

-- 2.4. KHÔI PHỤC DỮ LIỆU
DELETE FROM CTMUONTRA WHERE MaMuonTra = 'MT00000046'

-- 2.5. XÓA
DROP TRIGGER TRIG_INSERT_UPDATE_ST
GO

-- 3. Nhân viên tối thiểu phải 15 tuổi trở lên.
CREATE TRIGGER TRIG_INSERT_UPDATE_NS
ON NHANVIEN FOR INSERT, UPDATE
AS
BEGIN
	IF (SELECT COUNT(*) 
		FROM INSERTED, NHANVIEN NV
		WHERE NV.MaNV = INSERTED.MaNV AND YEAR(INSERTED.NgaySinh)>=2008) > 0
	BEGIN
	ROLLBACK TRANSACTION
	RAISERROR (N'NHÂN VIÊN TỐI THIỂU PHẢI TỪ 15 TUỔI TRỞ LÊN', 16, 1)
	RETURN
	END
END

SET DATEFORMAT DMY

-- 3.2. KIỂM TRA
-- 3.2.1. KIỂM TRA VỚI INSERT
INSERT INTO NHANVIEN VALUES ('NV006', N'Lâm Vũ', N'Nữ', '09/03/2008', '0783336224') -- BÁO LỖI -> TRIGGER đúng
INSERT INTO NHANVIEN VALUES ('NV006', N'Lâm Vũ', N'Nữ', '09/03/1990', '0783336224') -- KO BÁO LỖI -> TRIGGER đúng

-- 3.2.2. KIỂM TRA VỚI UPDATE
UPDATE NHANVIEN
SET NgaySinh = '09/03/2008'
WHERE MaNV = 'NV005'  -- BÁO LỖI -> TRIGGER đúng

---- 3.3. KIỂM TRA DỮ LIỆU TRONG BẢNG
SELECT * FROM NHANVIEN

---- 3.4. KHÔI PHỤC DỮ LIỆU
DELETE FROM NHANVIEN WHERE MaNV = 'NV006'

---- 3s.5. XÓA
DROP TRIGGER TRIG_INSERT_UPDATE_NS

-- 4. Ngày bắt đầu của thẻ thư viện phải trước hoặc bằng ngày hiện tại.
CREATE TRIGGER TRIG_INSERT_UPDATE_NBD
ON THETHUVIEN FOR INSERT,UPDATE
AS
BEGIN
	IF (SELECT COUNT(*) 
		FROM INSERTED 
		WHERE INSERTED.NgayBatDau > GETDATE()) > 0
	BEGIN
	ROLLBACK TRANSACTION
	RAISERROR (N'NGÀY BẮT ĐẦU CỦA THẺ THƯ VIỆN PHẢI TRƯỚC HOẶC BẰNG NGÀY HIỆN TẠI', 16, 1)
	RETURN
	END
END

SET DATEFORMAT DMY

-- 4.2. KIỂM TRA
-- 4.2.1. KIỂM TRA VỚI INSERT
INSERT INTO THETHUVIEN VALUES ('TV00000026', '07/09/2023', '07/09/2026') -- BÁO LỖI -> TRIGGER ĐÚNG
INSERT INTO THETHUVIEN VALUES ('TV00000026', '07/09/2022', '07/09/2026') -- KO BÁO LỖI -> TRIGGER ĐÚNG

-- 4.2.2. KIỂM TRA VỚI UPDATE
UPDATE THETHUVIEN
SET NgayBatDau = '07/09/2023'
WHERE SoThe = 'TV00000026'  -- BÁO LỖI -> TRIGGER ĐÚNG

---- 4.3.. KIỂM TRA DỮ LIỆU TRONG BẢNG
SELECT * FROM THETHUVIEN

---- 4.4. KHÔI PHỤC DỮ LIỆU
DELETE FROM THETHUVIEN WHERE SoThe = 'TV00000026'

---- 4.5. XÓA
DROP TRIGGER TRIG_INSERT_UPDATE_NBD

GO


